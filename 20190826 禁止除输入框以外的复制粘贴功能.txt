function handler(e) {
    e.preventDefault();
	
    let copytext
    let clipdata = e.clipboardData || window.clipboardData;

    if (e.target.tagName !== 'INPUT') {
     window.getSelection().empty() 
     copytext = '禁止粘贴'

    }else{

     copytext =  window.getSelection()	
   }
    
    if (clipdata) {
        clipdata.setData('Text', copytext);
    }
}
// 禁止除输入框以外的复制粘贴功能
document.addEventListener('copy', handler)


